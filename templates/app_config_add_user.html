{% extends "layout.html" %}
{% block content %}
<h2 class="mb-4">Add User Config</h2>
<form method="POST" class="card p-4 shadow-sm">
    <div class="mb-3">
        <label class="form-label">Username</label>
        <input type="text" name="username" class="form-control" required>
    </div>
    <div class="row">
        <div class="col-md-4 mb-3">
            <label class="form-label">Screenshot Interval</label>
            <input type="number" name="screenshot_interval" class="form-control" required>
        </div>
        <div class="col-md-4 mb-3">
            <label class="form-label">History Interval</label>
            <input type="number" name="history_interval" class="form-control" required>
        </div>
        <div class="col-md-4 mb-3">
            <label class="form-label">Log Usage Interval</label>
            <input type="number" name="log_usage_interval" class="form-control" required>
        </div>
    </div>
    <div class="row">
        <div class="col-md-4 mb-3">
            <label class="form-label">Track App Usage Interval</label>
            <input type="number" name="track_app_usage_interval" class="form-control" required>
        </div>
        <div class="col-md-4 mb-3">
            <label class="form-label">Upload App Usage Memory Interval</label>
            <input type="number" name="upload_app_usage_memory_interval" class="form-control" required>
        </div>
        <div class="col-md-4 mb-3">
            <label class="form-label">Log WiFi Info</label>
            <input type="number" name="log_wifi_info" class="form-control" required>
        </div>
        <div class="col-md-4 mb-3">
            <label class="form-label">Log WiFi Info</label>
            <!-- <input type="number" name="log_wifi_info" class="form-control" required> -->
            <select name="screenshot_flag" class="form-select form-select-sm" onchange="this.form.submit()">
                <option value="1" {% if cfg.screenshot_flag==1 %}selected{% endif %}>Yes</option>
                <option value="0" {% if cfg.screenshot_flag==0 %}selected{% endif %}>No</option>
            </select>
        </div>
    </div>
    <div class="d-flex justify-content-between">
        <a href="{{ url_for('app_config_list') }}" class="btn btn-secondary"><i class="bi bi-arrow-left"></i> Back</a>
        <button class="btn btn-success" type="submit"><i class="bi bi-check2-circle"></i> Save</button>
    </div>
</form>
<!-- Hide preloader on page load -->
<script>
    window.addEventListener('load', function () {
        const loader = document.getElementById('preloader-overlay');
        if (loader) {
            loader.classList.add('fade-out');
            setTimeout(() => loader.style.display = 'none', 500);
        }
    });
</script>
{% endblock %}